<div class="bg-modal">
  <app-card-form>
    <span class="material-icons close_icon" (click)="onClose()">
      close
    </span>
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup)">
      <div class="form-group" [ngClass]="TaskService.checkerCss('title', formGroup)">
        <label>
          <div class="title">Title</div>
          <input type="text" formControlName="title" name="title" />
        </label>
        <div class="error">
          <app-error-field [displayError]="TaskService.isFieldValid('title', formGroup)"
            errorMsg="Please provide title">
          </app-error-field>
        </div>
      </div>

      <div class="form-group" [ngClass]="TaskService.checkerCss('description', formGroup)">
        <div class="row">
          <label class="title">Description</label>

          <textarea class="form-control" rows="3" formControlName="description" name="description"></textarea>

        </div>
        <div class="error">
          <app-error-field [displayError]="TaskService.isFieldValid('description', formGroup)"
            errorMsg="Please provide description">
          </app-error-field>
        </div>
      </div>

      <div class="form-group" [ngClass]="TaskService.checkerCss('deadline', formGroup)">
        <div class="date-container">
          <label>
            <div class="title">Deadline</div><input class="date" type="date" formControlName="deadline" name="deadline">
          </label>


          <select formControlName="hours">
            <option *ngFor="let option of TaskService.generatorOptions(24,1)">
              {{ option }}
            </option>

          </select>

          <select formControlName="minutes">

            <option *ngFor="let option of TaskService.generatorOptions(3,15)">
              {{ option }}
            </option>

          </select>
        </div>
      </div>
      <div class="error">
        <app-error-field [displayError]="TaskService.isFieldValid('deadline', formGroup)"
          errorMsg="Please provide Deadline date">
        </app-error-field>
      </div>

      <div class="form-group" [ngClass]="TaskService.checkerCss('value', formGroup)">
        <label>
          <div class="title">Value</div>

          <input class="value" type="number" min="0" value="1" formControlName="value" name="value" />
        </label>

        <div class="error">
          <app-error-field [displayError]="TaskService.isFieldValid('value', formGroup)"
            errorMsg="Please provide value">
          </app-error-field>
        </div>
      </div>
      <div>
        <button *ngIf="!TaskService.isEditForm" class="btn-primary" type="submit">Submit</button>
      </div>
      <div>
        <button *ngIf="TaskService.isEditForm" class="btn-primary" type="button" (click)="editForm()">Edit</button>
      </div>
    </form>
  </app-card-form>
</div>